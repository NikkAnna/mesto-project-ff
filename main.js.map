{"version":3,"file":"main.js","mappings":"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","sources":["webpack://mesto-project-ff/./src/scripts/api.js","webpack://mesto-project-ff/./src/scripts/card.js","webpack://mesto-project-ff/./src/scripts/modal.js","webpack://mesto-project-ff/./src/scripts/validation.js","webpack://mesto-project-ff/./src/index.js"],"sourcesContent":["export const config = {\r\n    baseUrl: 'https://nomoreparties.co/v1/wff-cohort-12',\r\n    headers: {\r\n        authorization: '8f4967ce-f48f-4d37-a0f6-afbb9d7f6d1e',\r\n        'Content-Type': 'application/json'\r\n    }\r\n}\r\n\r\nconst handleResponse = (res) => {\r\n    if (res.ok) {\r\n        return res.json();\r\n    }\r\n    return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n}\r\n\r\nexport const deletePlaceRequest = (url, config) => {\r\n    return fetch(url, {\r\n        method: 'DELETE',\r\n        headers: config.headers,\r\n    })\r\n        .then(handleResponse)\r\n}\r\n\r\nexport const addPlaceLikeRequest = (url, config) => {\r\n    return fetch(url, {\r\n        method: 'PUT',\r\n        headers: config.headers,\r\n    })\r\n        .then(handleResponse)\r\n}\r\n\r\nexport const removePlaceLikeRequest = (url, config) => {\r\n    return fetch(url, {\r\n        method: 'DELETE',\r\n        headers: config.headers,\r\n    })\r\n        .then(handleResponse)\r\n}\r\n\r\nexport const updateProfileRequest = (url, config, profile) => {\r\n    return fetch(url, {\r\n        method: 'PATCH',\r\n        headers: config.headers,\r\n        body: JSON.stringify(profile),\r\n    })\r\n        .then(handleResponse)\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n}\r\n\r\nexport const updateAvatarRequest = (url, config, avatarLink) => {\r\n    return fetch(url, {\r\n        method: 'PATCH',\r\n        headers: config.headers,\r\n        body: JSON.stringify({ avatar: avatarLink }),\r\n    })\r\n        .then(handleResponse)\r\n}\r\n\r\nexport const createPlaceRequest = (url, config, place) => {\r\n    return fetch(url, {\r\n        method: 'POST',\r\n        headers: config.headers,\r\n        body: JSON.stringify(place),\r\n    })\r\n        .then(handleResponse)\r\n}\r\n\r\nexport const getProfileRequest = (url, config) => {\r\n    return fetch(url, {\r\n        method: 'GET',\r\n        headers: config.headers,\r\n    })\r\n        .then(handleResponse)\r\n}\r\n\r\nexport const getPlacesRequest = (url, config) => {\r\n    return fetch(url, {\r\n        method: 'GET',\r\n        headers: config.headers,\r\n    })\r\n        .then(handleResponse)\r\n}","import {\r\n    config,\r\n    deletePlaceRequest,\r\n} from './api.js';\r\n\r\nconst cardTemplate = document.querySelector('#card-template').content;\r\n\r\nfunction deletePlaceCard(card, cardId) {\r\n    deletePlaceRequest(`${config.baseUrl}/cards/${cardId}`, config)\r\n        .then((data) => card.remove())\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n}\r\n\r\nfunction createPlaceCard(link, name, likes, createPopupLargeCard, handlePlaceCardLike, cardId, profileId, cardOwnerProfile, handleConfirmPopupDelete, popupFormDelete, popupDelete, description = 'красивая фотография') {\r\n    const cardElement = cardTemplate.querySelector('.places__item').cloneNode(true);\r\n\r\n    const cardImage = cardElement.querySelector('.card__image');\r\n    cardImage.src = link;\r\n    cardImage.alt = description;\r\n\r\n    cardElement.querySelector('.card__title').textContent = name;\r\n\r\n    cardImage.addEventListener('click', () => createPopupLargeCard(link, name, description));\r\n\r\n    const likesAmount = likes.length;\r\n    const likeCounter = cardElement.querySelector('.card__like-counter');\r\n\r\n    likeCounter.textContent = likesAmount;\r\n\r\n    const likebutton = cardElement.querySelector('.card__like-button');\r\n    likebutton.addEventListener('click', (evt) => {\r\n        handlePlaceCardLike(evt, cardId, likeCounter)\r\n    });\r\n\r\n    const myLikeIsOnCard = likes.some((like) => {\r\n        return like._id === profileId\r\n    })\r\n\r\n    if (myLikeIsOnCard) {\r\n        likebutton.classList.add('card__like-button_is-active');\r\n    } else {\r\n        likebutton.classList.remove('card__like-button_is-active');\r\n    }\r\n\r\n    const deleteButton = cardElement.querySelector('.card__delete-button');\r\n\r\n    if (cardOwnerProfile._id === profileId) {\r\n        deleteButton.addEventListener('click', () => handleConfirmPopupDelete(popupFormDelete, cardId, cardElement, popupDelete));\r\n    } else {\r\n        deleteButton.style.display = 'none';\r\n    }\r\n\r\n    return cardElement;\r\n}\r\n\r\nexport {\r\n    createPlaceCard,\r\n    deletePlaceCard,\r\n    cardTemplate\r\n}\r\n\r\n","//функции, связанные с открытием/ закрытием модальных окон\r\n\r\nfunction openModal(popup) {\r\n    popup.classList.add(\"popup_is-opened\");\r\n    document.addEventListener(\"keydown\", closeModalByEscapeButton);\r\n}\r\n\r\nfunction closeModal(popup) {\r\n    popup.classList.remove(\"popup_is-opened\");\r\n    document.removeEventListener(\"keydown\", closeModalByEscapeButton);\r\n}\r\n\r\nfunction closeModalByOverlayAndCloseButton(evt, popup) {\r\n    if (\r\n        evt.target.classList.contains(\"popup__close\") ||\r\n        evt.target.classList.contains(\"popup\")\r\n    ) {\r\n        closeModal(popup);\r\n    }\r\n}\r\n\r\nfunction closeModalByEscapeButton(evt) {\r\n    if (evt.key === \"Escape\") {\r\n        const popup = document.querySelector(\".popup_is-opened\");\r\n        closeModal(popup);\r\n    }\r\n}\r\n\r\nexport { openModal, closeModal, closeModalByOverlayAndCloseButton };\r\n","\r\nfunction showInputError(form, inputField, inputErrorClass, errorClass) {\r\n    const formError = form.querySelector(`.${inputField.id}-error`);\r\n\r\n    inputField.classList.add(inputErrorClass);\r\n    formError.textContent = inputField.validationMessage;\r\n    formError.classList.add(errorClass);\r\n}\r\n\r\nfunction removeInputError(form, inputField, inputErrorClass, errorClass) {\r\n    const formError = form.querySelector(`.${inputField.id}-error`);\r\n\r\n    inputField.classList.remove(inputErrorClass);\r\n    formError.classList.remove(errorClass);\r\n\r\n    formError.textContent = '';\r\n}\r\n\r\nfunction validateInputField(form, inputField, inputErrorClass, errorClass) {\r\n    if (inputField.validity.patternMismatch) {\r\n        inputField.setCustomValidity(inputField.dataset.errorMessage);\r\n    } else {\r\n        inputField.setCustomValidity('');\r\n    }\r\n\r\n    if (!inputField.validity.valid) {\r\n        showInputError(form, inputField, inputErrorClass, errorClass);\r\n    } else {\r\n        removeInputError(form, inputField, inputErrorClass, errorClass);\r\n    }\r\n}\r\n\r\nfunction setEventListeners(form, validationConfig) {\r\n    const inputFields = Array.from(form.querySelectorAll(validationConfig.inputSelector));\r\n    const inputErrorClass = validationConfig.inputErrorClass;\r\n    const errorClass = validationConfig.errorClass;\r\n    const formButton = form.querySelector(validationConfig.submitButtonSelector);\r\n    const inactiveFormButton = validationConfig.inactiveButtonClass;\r\n\r\n    toggleFormButtonStatus(inputFields, formButton, inactiveFormButton);\r\n\r\n    inputFields.forEach((inputField) => {\r\n        inputField.addEventListener('input', () => {\r\n            validateInputField(form, inputField, inputErrorClass, errorClass);\r\n            toggleFormButtonStatus(inputFields, formButton, inactiveFormButton)\r\n        })\r\n    })\r\n}\r\n\r\nexport function enableValidation(validationConfig) {\r\n    const forms = Array.from(document.querySelectorAll(validationConfig.formSelector))\r\n\r\n    forms.forEach((form) => {\r\n        setEventListeners(form, validationConfig);\r\n    })\r\n\r\n}\r\n\r\nfunction checkInvalidInput(inputFields) {\r\n    return inputFields.some((inputField) => {\r\n        return !inputField.validity.valid;\r\n    })\r\n}\r\n\r\nfunction toggleFormButtonStatus(inputFields, formButton, inactiveButtonClass) {\r\n    if (checkInvalidInput(inputFields)) {\r\n        formButton.disabled = true;\r\n        formButton.classList.add(inactiveButtonClass)\r\n    } else {\r\n        formButton.disabled = false;\r\n        formButton.classList.remove(inactiveButtonClass)\r\n    }\r\n}\r\n\r\nexport function clearValidation(form, validationConfig) {\r\n    const inputFields = Array.from(form.querySelectorAll(validationConfig.inputSelector));\r\n    const inputErrorClass = validationConfig.inputErrorClass;\r\n    const errorClass = validationConfig.errorClass;\r\n    const formButton = form.querySelector(validationConfig.submitButtonSelector);\r\n\r\n    inputFields.forEach((inputField) => {\r\n        removeInputError(form, inputField, inputErrorClass, errorClass)\r\n    })\r\n\r\n    formButton.disabled = true;\r\n    formButton.classList.add(validationConfig.inactiveButtonClass);\r\n}","import './pages/index.css';\r\nimport {\r\n    createPlaceCard,\r\n    deletePlaceCard\r\n} from './scripts/card.js';\r\nimport {\r\n    openModal,\r\n    closeModal,\r\n    closeModalByOverlayAndCloseButton\r\n} from './scripts/modal.js';\r\nimport {\r\n    enableValidation,\r\n    clearValidation\r\n} from './scripts/validation.js'\r\nimport {\r\n    config,\r\n    updateProfileRequest,\r\n    updateAvatarRequest,\r\n    createPlaceRequest,\r\n    getProfileRequest,\r\n    getPlacesRequest,\r\n    addPlaceLikeRequest,\r\n    removePlaceLikeRequest\r\n} from './scripts/api.js'\r\n\r\nconst popups = document.querySelectorAll('.popup');\r\nconst placesCards = document.querySelector('.places__list');\r\n\r\nconst profileTitle = document.querySelector('.profile__title');\r\nconst profileDescription = document.querySelector('.profile__description');\r\n\r\nconst profileAvatar = document.querySelector('.profile__image')\r\nconst popupAvatarEdit = document.querySelector('.popup_type_new-avatar')\r\nconst popupFormAvatarEdit = document.forms['new-avatar'];\r\nconst popupFormAvatarEditLink = document.querySelector('.popup__input_type_avatar_url');\r\nconst buttonChangeAvatar = popupAvatarEdit.querySelector('.popup__button');\r\n\r\nconst popupProfile = document.querySelector('.popup_type_edit');\r\nconst buttonOpenPopupProfile = document.querySelector('.profile__edit-button');\r\nconst popupProfileForm = document.forms['edit-profile'];\r\nconst popupProfileFormName = document.querySelector('.popup__input_type_name');\r\nconst popupProfileFormDescription = document.querySelector('.popup__input_type_description');\r\nconst buttonUpdatePopupProfile = popupProfile.querySelector('.popup__button');\r\n\r\nconst popupCreatePlace = document.querySelector('.popup_type_new-card');\r\nconst buttonOpenPopupCreatePlace = document.querySelector('.profile__add-button');\r\nconst popupCreatePlaceForm = document.forms['new-place'];\r\nconst popupCreatePlaceFormName = document.querySelector('.popup__input_type_card-name');\r\nconst popupCreatePlaceFormImage = document.querySelector('.popup__input_type_url');\r\nconst buttonCreatePlace = popupCreatePlace.querySelector('.popup__button');\r\n\r\nconst popupLargePlaceCard = document.querySelector('.popup_type_image');\r\nconst popupLargePlaceCardImage = popupLargePlaceCard.querySelector('.popup__image');\r\nconst popupLargePlaceCardText = popupLargePlaceCard.querySelector('.popup__caption');\r\n\r\nconst popupDeletePlaceCardForm = document.forms['delete-form'];\r\nconst popupDeletePlaceCard = document.querySelector('.popup_type_delete-card')\r\n\r\nconst urlSelfProfile = `${config.baseUrl}/users/me`;\r\nconst urlCards = `${config.baseUrl}/cards`;\r\nconst urlSelfAvatar = `${config.baseUrl}/users/me/avatar`;\r\n\r\nfunction addPlaceCard(placeCard) {\r\n    placesCards.append(placeCard);\r\n}\r\n\r\nfunction handlePlaceCardLike(evt, cardId, likeCounter) {\r\n\r\n    evt.target.classList.toggle('card__like-button_is-active');\r\n\r\n    if (evt.target.classList.contains('card__like-button_is-active')) {\r\n        addPlaceLikeRequest(`${config.baseUrl}/cards/likes/${cardId}`, config)\r\n            .then((data) => {\r\n                likeCounter.textContent = data.likes.length\r\n            }).catch((err) => {\r\n                console.log(err);\r\n            });\r\n    } else {\r\n        removePlaceLikeRequest(`${config.baseUrl}/cards/likes/${cardId}`, config)\r\n            .then((data) => {\r\n                likeCounter.textContent = data.likes.length\r\n            }).catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n}\r\n\r\nfunction handleUpdateProfile(evt, popup, title, description, profileTitle, profileDescription) {\r\n    evt.preventDefault();\r\n\r\n    profileTitle.textContent = title;\r\n    profileDescription.textContent = description;\r\n\r\n    updateProfileRequest(urlSelfProfile, config, {\r\n        name: profileTitle.textContent,\r\n        about: profileDescription.textContent,\r\n    })\r\n\r\n    closeModal(popup);\r\n}\r\n\r\nfunction handleUpdateAvatar(evt, popup, urlMyAvatar, config, avatarLink, profileAvatar) {\r\n    evt.preventDefault();\r\n\r\n    updateAvatarRequest(urlMyAvatar, config, avatarLink)\r\n        .then((data) => {\r\n            profileAvatar.style.backgroundImage = `url(${data.avatar})`;\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n\r\n    closeModal(popup);\r\n}\r\n\r\nfunction updatePopupProfileForm(popupFormName, popupFormDescription, profileTitle, profileDescription) {\r\n    popupFormName.value = profileTitle;\r\n    popupFormDescription.value = profileDescription;\r\n    buttonUpdatePopupProfile.textContent = 'Сохранить';\r\n}\r\n\r\nfunction clearPopupCreatePlaceForm(placeName, placeImage) {\r\n    placeName.value = '';\r\n    placeImage.value = '';\r\n}\r\n\r\nfunction clearPopupAvatarForm(link) {\r\n    link.value = '';\r\n}\r\n\r\nfunction handleOpenPopupCreatePlace(evt, popup, placeImage, placeName, createPopupLargeCard, handlePlaceCardLike, placesCards, profile, handleConfirmPopupDelete, popupFormDelete, popupDelete) {\r\n    evt.preventDefault();\r\n\r\n    createPlaceRequest(urlCards, config, {\r\n        name: placeName.value,\r\n        link: placeImage.value,\r\n    }).then((place) => {\r\n        const card = createPlaceCard(placeImage.value, placeName.value, [], createPopupLargeCard, handlePlaceCardLike, place._id, profile._id, profile, handleConfirmPopupDelete, popupFormDelete, popupDelete);\r\n        placesCards.prepend(card);\r\n        closeModal(popup);\r\n        clearPopupCreatePlaceForm(placeName, placeImage);\r\n    }).catch((err) => {\r\n        console.log(err);\r\n    });\r\n}\r\n\r\nfunction createPopupLargePlaceCard(link, name, description) {\r\n    popupLargePlaceCardImage.src = link;\r\n    popupLargePlaceCardImage.alt = description;\r\n    popupLargePlaceCardText.textContent = name;\r\n\r\n    openModal(popupLargePlaceCard);\r\n}\r\n\r\nfunction handleConfirmPopupDelete(popupFormDelete, cardId, cardElement, popupDelete) {\r\n    popupFormDelete.addEventListener('submit', (evt) => {\r\n        evt.preventDefault();\r\n        deletePlaceCard(cardElement, cardId);\r\n\r\n        closeModal(popupDelete);\r\n    })\r\n\r\n    openModal(popupDelete);\r\n}\r\n\r\nfunction openPopupAvatarEditForm(popup) {\r\n    openModal(popup)\r\n}\r\n\r\nPromise.all([\r\n    getProfileRequest(urlSelfProfile, config),\r\n    getPlacesRequest(urlCards, config)\r\n]).then(([profile, placesData]) => {\r\n    profileTitle.textContent = profile.name;\r\n    profileDescription.textContent = profile.about;\r\n    profileAvatar.style.backgroundImage = `url(${profile.avatar})`;\r\n\r\n    popupCreatePlaceForm.addEventListener(\r\n        'submit',\r\n        (evt) => {\r\n            handleOpenPopupCreatePlace(\r\n                evt, popupCreatePlace, popupCreatePlaceFormImage, popupCreatePlaceFormName, createPopupLargePlaceCard, handlePlaceCardLike, placesCards, profile, handleConfirmPopupDelete, popupDeletePlaceCardForm, popupDeletePlaceCard\r\n            )\r\n            buttonCreatePlace.textContent = 'Создание...';\r\n        });\r\n\r\n    placesData.forEach((place) => {\r\n        const placeCard = createPlaceCard(place.link, place.name, place.likes, createPopupLargePlaceCard, handlePlaceCardLike, place._id, profile._id, place.owner, handleConfirmPopupDelete, popupDeletePlaceCardForm, popupDeletePlaceCard)\r\n        addPlaceCard(placeCard);\r\n    })\r\n}).catch((err) => {\r\n    console.log(err);\r\n});\r\n\r\nprofileAvatar.addEventListener('click', () => {\r\n    clearPopupAvatarForm(popupFormAvatarEditLink);\r\n    clearValidation(popupFormAvatarEdit, {\r\n        inputSelector: '.popup__input',\r\n        submitButtonSelector: '.popup__button',\r\n        inactiveButtonClass: 'popup__button_disabled',\r\n        inputErrorClass: 'popup__input_type_error',\r\n        errorClass: 'popup__error_visible'\r\n    });\r\n    buttonChangeAvatar.textContent = 'Сохранить';\r\n    openPopupAvatarEditForm(popupAvatarEdit);\r\n})\r\n\r\npopupFormAvatarEdit.addEventListener(\r\n    'submit',\r\n    (evt) => {\r\n        handleUpdateAvatar(\r\n            evt, popupAvatarEdit, urlSelfAvatar, config, popupFormAvatarEditLink.value, profileAvatar\r\n        );\r\n        buttonChangeAvatar.textContent = 'Сохранение...';\r\n    })\r\n\r\nbuttonOpenPopupProfile.addEventListener(\r\n    'click',\r\n    () => {\r\n        updatePopupProfileForm(\r\n            popupProfileFormName, popupProfileFormDescription, profileTitle.textContent, profileDescription.textContent\r\n        );\r\n        clearValidation(popupProfileForm, {\r\n            inputSelector: '.popup__input',\r\n            submitButtonSelector: '.popup__button',\r\n            inactiveButtonClass: 'popup__button_disabled',\r\n            inputErrorClass: 'popup__input_type_error',\r\n            errorClass: 'popup__error_visible'\r\n        })\r\n        openModal(popupProfile);\r\n    }\r\n);\r\n\r\npopupProfileForm.addEventListener(\r\n    'submit',\r\n    (evt) => {\r\n        handleUpdateProfile(\r\n            evt, popupProfile, popupProfileFormName.value, popupProfileFormDescription.value, profileTitle, profileDescription\r\n        );\r\n        buttonUpdatePopupProfile.textContent = 'Сохранение...';\r\n    }\r\n);\r\n\r\nbuttonOpenPopupCreatePlace.addEventListener(\r\n    'click',\r\n    () => {\r\n        clearPopupCreatePlaceForm(popupCreatePlaceFormName, popupCreatePlaceFormImage);\r\n        clearValidation(popupCreatePlaceForm, {\r\n            inputSelector: '.popup__input',\r\n            submitButtonSelector: '.popup__button',\r\n            inactiveButtonClass: 'popup__button_disabled',\r\n            inputErrorClass: 'popup__input_type_error',\r\n            errorClass: 'popup__error_visible'\r\n        });\r\n        buttonCreatePlace.textContent = 'Создать';\r\n        openModal(popupCreatePlace);\r\n    }\r\n);\r\n\r\npopups.forEach(function (popup) {\r\n    popup.classList.add('popup_is-animated');\r\n\r\n    popup.addEventListener('click', (evt) => closeModalByOverlayAndCloseButton(evt, popup));\r\n});\r\n\r\nenableValidation({\r\n    formSelector: '.popup__form',\r\n    inputSelector: '.popup__input',\r\n    submitButtonSelector: '.popup__button',\r\n    inactiveButtonClass: 'popup__button_disabled',\r\n    inputErrorClass: 'popup__input_type_error',\r\n    errorClass: 'popup__error_visible'\r\n});\r\n\r\n\r\n\r\n\r\n"],"names":["config","baseUrl","headers","authorization","handleResponse","res","ok","json","Promise","reject","concat","status","cardTemplate","document","querySelector","content","createPlaceCard","link","name","likes","createPopupLargeCard","handlePlaceCardLike","cardId","profileId","cardOwnerProfile","handleConfirmPopupDelete","popupFormDelete","popupDelete","description","arguments","length","undefined","cardElement","cloneNode","cardImage","src","alt","textContent","addEventListener","likesAmount","likeCounter","likebutton","evt","some","like","_id","classList","add","remove","deleteButton","style","display","openModal","popup","closeModalByEscapeButton","closeModal","removeEventListener","key","removeInputError","form","inputField","inputErrorClass","errorClass","formError","id","toggleFormButtonStatus","inputFields","formButton","inactiveButtonClass","validity","valid","checkInvalidInput","disabled","clearValidation","validationConfig","Array","from","querySelectorAll","inputSelector","submitButtonSelector","forEach","popups","placesCards","profileTitle","profileDescription","profileAvatar","popupAvatarEdit","popupFormAvatarEdit","forms","popupFormAvatarEditLink","buttonChangeAvatar","popupProfile","buttonOpenPopupProfile","popupProfileForm","popupProfileFormName","popupProfileFormDescription","buttonUpdatePopupProfile","popupCreatePlace","buttonOpenPopupCreatePlace","popupCreatePlaceForm","popupCreatePlaceFormName","popupCreatePlaceFormImage","buttonCreatePlace","popupLargePlaceCard","popupLargePlaceCardImage","popupLargePlaceCardText","popupDeletePlaceCardForm","popupDeletePlaceCard","urlSelfProfile","urlCards","urlSelfAvatar","target","toggle","contains","url","fetch","method","then","addPlaceLikeRequest","data","catch","err","console","log","removePlaceLikeRequest","clearPopupCreatePlaceForm","placeName","placeImage","value","createPopupLargePlaceCard","preventDefault","card","deletePlaceRequest","deletePlaceCard","all","getProfileRequest","getPlacesRequest","_ref","_ref2","profile","placesData","about","backgroundImage","avatar","place","body","JSON","stringify","createPlaceRequest","prepend","handleOpenPopupCreatePlace","placeCard","owner","append","urlMyAvatar","avatarLink","updateAvatarRequest","handleUpdateAvatar","popupFormName","popupFormDescription","updatePopupProfileForm","title","updateProfileRequest","handleUpdateProfile","closeModalByOverlayAndCloseButton","formSelector","inactiveFormButton","patternMismatch","setCustomValidity","dataset","errorMessage","validationMessage","showInputError","validateInputField","setEventListeners"],"sourceRoot":""}